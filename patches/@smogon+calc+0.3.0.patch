diff --git a/node_modules/@smogon/calc/dist/data/abilities.js b/node_modules/@smogon/calc/dist/data/abilities.js
index b6b1ef1..10fba62 100644
--- a/node_modules/@smogon/calc/dist/data/abilities.js
+++ b/node_modules/@smogon/calc/dist/data/abilities.js
@@ -26,6 +26,18 @@ var __generator = (this && this.__generator) || function (thisArg, body) {
         if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
     }
 };
+var __values = (this && this.__values) || function(o) {
+    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
+    if (m) return m.call(o);
+    if (o && typeof o.length === "number") return {
+        next: function () {
+            if (o && i >= o.length) o = void 0;
+            return { value: o && o[i++], done: !o };
+        }
+    };
+    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
+};
+var e_1, _a, e_2, _b;
 exports.__esModule = true;
 var util_1 = require("../util");
 var RBY = [];
@@ -193,7 +205,6 @@ var BW = DPP.concat([
     'Sand Rush',
     'Sap Sipper',
     'Sheer Force',
-    'Storm Drain',
     'Telepathy',
     'Teravolt',
     'Toxic Boost',
@@ -296,12 +307,14 @@ var SS = SM.concat([
     'Power Spot',
     'Propeller Tail',
     'Punk Rock',
+    'Quick Draw',
     'Ripen',
     'Sand Spit',
     'Screen Cleaner',
     'Stalwart',
     'Steam Engine',
     'Steely Spirit',
+    'Unseen Fist',
     'Wandering Spirit',
 ]);
 exports.ABILITIES = [[], RBY, GSC, ADV, DPP, BW, XY, SM, SS];
@@ -348,14 +361,32 @@ var Ability = (function () {
     return Ability;
 }());
 var ABILITIES_BY_ID = [];
-for (var _i = 0, ABILITIES_1 = exports.ABILITIES; _i < ABILITIES_1.length; _i++) {
-    var abilities = ABILITIES_1[_i];
-    var map = {};
-    for (var _a = 0, abilities_1 = abilities; _a < abilities_1.length; _a++) {
-        var ability = abilities_1[_a];
-        var a = new Ability(ability);
-        map[a.id] = a;
+try {
+    for (var ABILITIES_1 = __values(exports.ABILITIES), ABILITIES_1_1 = ABILITIES_1.next(); !ABILITIES_1_1.done; ABILITIES_1_1 = ABILITIES_1.next()) {
+        var abilities = ABILITIES_1_1.value;
+        var map = {};
+        try {
+            for (var abilities_1 = (e_2 = void 0, __values(abilities)), abilities_1_1 = abilities_1.next(); !abilities_1_1.done; abilities_1_1 = abilities_1.next()) {
+                var ability = abilities_1_1.value;
+                var a = new Ability(ability);
+                map[a.id] = a;
+            }
+        }
+        catch (e_2_1) { e_2 = { error: e_2_1 }; }
+        finally {
+            try {
+                if (abilities_1_1 && !abilities_1_1.done && (_b = abilities_1["return"])) _b.call(abilities_1);
+            }
+            finally { if (e_2) throw e_2.error; }
+        }
+        ABILITIES_BY_ID.push(map);
+    }
+}
+catch (e_1_1) { e_1 = { error: e_1_1 }; }
+finally {
+    try {
+        if (ABILITIES_1_1 && !ABILITIES_1_1.done && (_a = ABILITIES_1["return"])) _a.call(ABILITIES_1);
     }
-    ABILITIES_BY_ID.push(map);
+    finally { if (e_1) throw e_1.error; }
 }
 //# sourceMappingURL=abilities.js.map
\ No newline at end of file
diff --git a/node_modules/@smogon/calc/dist/data/moves.js b/node_modules/@smogon/calc/dist/data/moves.js
index 950ad98..7da55d8 100644
--- a/node_modules/@smogon/calc/dist/data/moves.js
+++ b/node_modules/@smogon/calc/dist/data/moves.js
@@ -26,6 +26,18 @@ var __generator = (this && this.__generator) || function (thisArg, body) {
         if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
     }
 };
+var __values = (this && this.__values) || function(o) {
+    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
+    if (m) return m.call(o);
+    if (o && typeof o.length === "number") return {
+        next: function () {
+            if (o && i >= o.length) o = void 0;
+            return { value: o && o[i++], done: !o };
+        }
+    };
+    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
+};
+var e_1, _a, e_2, _b;
 exports.__esModule = true;
 var util_1 = require("../util");
 var RBY = {
@@ -876,7 +888,7 @@ var DPP_PATCH = {
     'Lunar Dance': { bp: 0, type: 'Psychic' },
     'Magma Storm': { bp: 120, type: 'Fire', category: 'Special' },
     'Magnet Rise': { bp: 0, type: 'Electric' },
-    'Me First': { bp: 0, type: 'Normal', target: 'adjacentFoe' },
+    'Me First': { bp: 0, type: 'Normal' },
     'Metal Burst': { bp: 0, type: 'Steel', category: 'Physical' },
     'Miracle Eye': { bp: 0, type: 'Psychic' },
     'Natural Gift': { bp: 0, type: 'Normal', category: 'Physical' },
@@ -1778,7 +1790,7 @@ var XY_PATCH = {
         breaksProtect: true,
         category: 'Special'
     },
-    "King's Shield": { bp: 0, type: 'Steel', priority: 4 },
+    'King\'s Shield': { bp: 0, type: 'Steel', priority: 4 },
     'Misty Terrain': { bp: 0, type: 'Fairy' },
     'Mystical Fire': {
         bp: 65,
@@ -1822,7 +1834,7 @@ var XY_PATCH = {
     Geomancy: { bp: 0, type: 'Fairy' },
     'Grassy Terrain': { bp: 0, type: 'Grass' },
     'Ion Deluge': { bp: 0, type: 'Electric', priority: 1 },
-    "Land's Wrath": { bp: 90, type: 'Ground', target: 'allAdjacentFoes', category: 'Physical' },
+    'Land\'s Wrath': { bp: 90, type: 'Ground', target: 'allAdjacentFoes', category: 'Physical' },
     'Light of Ruin': { bp: 140, type: 'Fairy', recoil: [1, 2], category: 'Special' },
     'Oblivion Wing': {
         bp: 80,
@@ -1883,7 +1895,7 @@ var XY_PATCH = {
     'Fairy Lock': { bp: 0, type: 'Fairy' },
     'Fairy Wind': { bp: 40, type: 'Fairy', category: 'Special' },
     'Flower Shield': { bp: 0, type: 'Fairy' },
-    "Forest's Curse": { bp: 0, type: 'Grass' },
+    'Forest\'s Curse': { bp: 0, type: 'Grass' },
     'Freeze-Dry': {
         bp: 70,
         type: 'Ice',
@@ -1998,7 +2010,7 @@ var SM_PATCH = {
     'Jump Kick': { zp: 180 },
     'Karate Chop': { zp: 100 },
     'Knock Off': { zp: 120 },
-    "Land's Wrath": { zp: 185 },
+    'Land\'s Wrath': { zp: 185 },
     'Light of Ruin': { zp: 200 },
     'Low Kick': { zp: 160 },
     'Luster Purge': { zp: 140 },
@@ -2461,7 +2473,7 @@ var SM_PATCH = {
     },
     'Inferno Overdrive': { bp: 1, type: 'Fire', category: 'Physical', isZ: true },
     Instruct: { bp: 0, type: 'Psychic' },
-    "Let's Snuggle Forever": {
+    'Let\'s Snuggle Forever': {
         bp: 190,
         type: 'Fairy',
         makesContact: true,
@@ -2497,7 +2509,7 @@ var SM_PATCH = {
         category: 'Physical',
         zp: 185
     },
-    "Nature's Madness": { bp: 0, type: 'Fairy', category: 'Special', zp: 100 },
+    'Nature\'s Madness': { bp: 0, type: 'Fairy', category: 'Special', zp: 100 },
     'Never-Ending Nightmare': { bp: 1, type: 'Ghost', category: 'Physical', isZ: true },
     'Oceanic Operetta': { bp: 195, type: 'Water', category: 'Special', isZ: true },
     'Psychic Terrain': { bp: 0, type: 'Psychic' },
@@ -2868,7 +2880,24 @@ var SS_PATCH = {
         zp: 120,
         maxPower: 110
     },
+    'Burning Jealousy': {
+        bp: 70,
+        type: 'Dragon',
+        target: 'allAdjacentFoes',
+        category: 'Special',
+        secondaries: true
+    },
     'Clangorous Soul': { bp: 0, type: 'Dragon', isSound: true },
+    'Coaching': {
+        bp: 0,
+        type: 'Fighting',
+        category: 'Status'
+    },
+    'Corrosive Gas': {
+        bp: 0,
+        type: 'Poison',
+        category: 'Status'
+    },
     'Court Change': { bp: 0, type: 'Normal' },
     Decorate: { bp: 0, type: 'Fairy' },
     'Dragon Darts': {
@@ -2887,6 +2916,14 @@ var SS_PATCH = {
         zp: 160,
         maxPower: 130
     },
+    'Dual Wingbeat': {
+        bp: 40,
+        type: 'Flying',
+        category: 'Physical',
+        makesContact: true,
+        multihit: 2,
+        maxPower: 130
+    },
     'Dynamax Cannon': {
         bp: 100,
         type: 'Dragon',
@@ -2901,6 +2938,11 @@ var SS_PATCH = {
         zp: 200,
         maxPower: 150
     },
+    'Expanding Force': {
+        bp: 80,
+        type: 'Psychic',
+        category: 'Special'
+    },
     'False Surrender': {
         bp: 80,
         type: 'Dark',
@@ -2918,10 +2960,14 @@ var SS_PATCH = {
         zp: 160,
         maxPower: 130
     },
+    'Flip Turn': {
+        bp: 60,
+        type: 'Water',
+        category: 'Physical'
+    },
     'G-Max Befuddle': {
         bp: 10,
         type: 'Bug',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -2929,7 +2975,13 @@ var SS_PATCH = {
     'G-Max Centiferno': {
         bp: 10,
         type: 'Fire',
-        target: 'adjacentFoe',
+        category: 'Physical',
+        isMax: true,
+        maxPower: 1
+    },
+    'G-Max Cannonade': {
+        bp: 10,
+        type: 'Water',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -2937,7 +2989,6 @@ var SS_PATCH = {
     'G-Max Chi Strike': {
         bp: 10,
         type: 'Fighting',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -2945,7 +2996,6 @@ var SS_PATCH = {
     'G-Max Cuddle': {
         bp: 10,
         type: 'Normal',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -2953,7 +3003,20 @@ var SS_PATCH = {
     'G-Max Depletion': {
         bp: 10,
         type: 'Dragon',
-        target: 'adjacentFoe',
+        category: 'Physical',
+        isMax: true,
+        maxPower: 1
+    },
+    'G-Max Drum Solo': {
+        bp: 10,
+        type: 'Grass',
+        category: 'Physical',
+        isMax: true,
+        maxPower: 1
+    },
+    'G-Max Fire Ball': {
+        bp: 10,
+        type: 'Fire',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -2961,7 +3024,6 @@ var SS_PATCH = {
     'G-Max Finale': {
         bp: 10,
         type: 'Fairy',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -2969,7 +3031,6 @@ var SS_PATCH = {
     'G-Max Foam Burst': {
         bp: 10,
         type: 'Water',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -2977,7 +3038,6 @@ var SS_PATCH = {
     'G-Max Gold Rush': {
         bp: 10,
         type: 'Normal',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -2985,7 +3045,13 @@ var SS_PATCH = {
     'G-Max Gravitas': {
         bp: 10,
         type: 'Psychic',
-        target: 'adjacentFoe',
+        category: 'Physical',
+        isMax: true,
+        maxPower: 1
+    },
+    'G-Max Hydrosnipe': {
+        bp: 10,
+        type: 'Water',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -2993,7 +3059,6 @@ var SS_PATCH = {
     'G-Max Malodor': {
         bp: 10,
         type: 'Poison',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3001,7 +3066,20 @@ var SS_PATCH = {
     'G-Max Meltdown': {
         bp: 10,
         type: 'Steel',
-        target: 'adjacentFoe',
+        category: 'Physical',
+        isMax: true,
+        maxPower: 1
+    },
+    'G-Max One Blow': {
+        bp: 10,
+        type: 'Dark',
+        category: 'Physical',
+        isMax: true,
+        maxPower: 1
+    },
+    'G-Max Rapid Flow': {
+        bp: 10,
+        type: 'Water',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3009,7 +3087,6 @@ var SS_PATCH = {
     'G-Max Replenish': {
         bp: 10,
         type: 'Normal',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3017,7 +3094,6 @@ var SS_PATCH = {
     'G-Max Resonance': {
         bp: 10,
         type: 'Ice',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3025,7 +3101,6 @@ var SS_PATCH = {
     'G-Max Sandblast': {
         bp: 10,
         type: 'Ground',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3033,7 +3108,6 @@ var SS_PATCH = {
     'G-Max Smite': {
         bp: 10,
         type: 'Fairy',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3041,7 +3115,6 @@ var SS_PATCH = {
     'G-Max Snooze': {
         bp: 10,
         type: 'Dark',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3049,7 +3122,6 @@ var SS_PATCH = {
     'G-Max Steelsurge': {
         bp: 10,
         type: 'Steel',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3057,7 +3129,6 @@ var SS_PATCH = {
     'G-Max Stonesurge': {
         bp: 10,
         type: 'Water',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3065,7 +3136,6 @@ var SS_PATCH = {
     'G-Max Stun Shock': {
         bp: 10,
         type: 'Electric',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3073,7 +3143,6 @@ var SS_PATCH = {
     'G-Max Sweetness': {
         bp: 10,
         type: 'Grass',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3081,7 +3150,6 @@ var SS_PATCH = {
     'G-Max Tartness': {
         bp: 10,
         type: 'Grass',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3089,7 +3157,13 @@ var SS_PATCH = {
     'G-Max Terror': {
         bp: 10,
         type: 'Ghost',
-        target: 'adjacentFoe',
+        category: 'Physical',
+        isMax: true,
+        maxPower: 1
+    },
+    'G-Max Vine Lash': {
+        bp: 10,
+        type: 'Grass',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3097,7 +3171,6 @@ var SS_PATCH = {
     'G-Max Volcalith': {
         bp: 10,
         type: 'Rock',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3105,7 +3178,6 @@ var SS_PATCH = {
     'G-Max Volt Crash': {
         bp: 10,
         type: 'Electric',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3113,7 +3185,6 @@ var SS_PATCH = {
     'G-Max Wildfire': {
         bp: 10,
         type: 'Fire',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3121,11 +3192,18 @@ var SS_PATCH = {
     'G-Max Wind Rage': {
         bp: 10,
         type: 'Flying',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
     },
+    'Grassy Glide': {
+        bp: 70,
+        type: 'Grass',
+        category: 'Physical',
+        makesContact: true,
+        zp: 160,
+        maxPower: 130
+    },
     'Grav Apple': {
         bp: 80,
         type: 'Grass',
@@ -3143,12 +3221,22 @@ var SS_PATCH = {
         zp: 160,
         maxPower: 130
     },
+    'Jungle Healing': {
+        bp: 0,
+        type: 'Grass',
+        category: 'Status'
+    },
+    'Lash Out': {
+        bp: 75,
+        type: 'Dark',
+        makesContact: true,
+        category: 'Physical'
+    },
     'Life Dew': { bp: 0, type: 'Water' },
     'Magic Powder': { bp: 0, type: 'Psychic' },
     'Max Airstream': {
         bp: 10,
         type: 'Flying',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3156,7 +3244,6 @@ var SS_PATCH = {
     'Max Darkness': {
         bp: 10,
         type: 'Dark',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3164,7 +3251,6 @@ var SS_PATCH = {
     'Max Flare': {
         bp: 100,
         type: 'Fire',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3172,7 +3258,6 @@ var SS_PATCH = {
     'Max Flutterby': {
         bp: 10,
         type: 'Bug',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3180,7 +3265,6 @@ var SS_PATCH = {
     'Max Geyser': {
         bp: 10,
         type: 'Water',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3189,7 +3273,6 @@ var SS_PATCH = {
     'Max Hailstorm': {
         bp: 10,
         type: 'Ice',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3197,7 +3280,6 @@ var SS_PATCH = {
     'Max Knuckle': {
         bp: 10,
         type: 'Fighting',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3205,7 +3287,6 @@ var SS_PATCH = {
     'Max Lightning': {
         bp: 10,
         type: 'Electric',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3213,7 +3294,6 @@ var SS_PATCH = {
     'Max Mindstorm': {
         bp: 10,
         type: 'Psychic',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3221,7 +3301,6 @@ var SS_PATCH = {
     'Max Ooze': {
         bp: 10,
         type: 'Poison',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3229,7 +3308,6 @@ var SS_PATCH = {
     'Max Overgrowth': {
         bp: 10,
         type: 'Grass',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3237,7 +3315,6 @@ var SS_PATCH = {
     'Max Phantasm': {
         bp: 10,
         type: 'Ghost',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3245,7 +3322,6 @@ var SS_PATCH = {
     'Max Quake': {
         bp: 10,
         type: 'Ground',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3253,7 +3329,6 @@ var SS_PATCH = {
     'Max Rockfall': {
         bp: 10,
         type: 'Rock',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3261,7 +3336,6 @@ var SS_PATCH = {
     'Max Starfall': {
         bp: 10,
         type: 'Fairy',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3269,7 +3343,6 @@ var SS_PATCH = {
     'Max Steelspike': {
         bp: 10,
         type: 'Steel',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3277,7 +3350,6 @@ var SS_PATCH = {
     'Max Strike': {
         bp: 10,
         type: 'Normal',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3285,7 +3357,6 @@ var SS_PATCH = {
     'Max Wyrmwind': {
         bp: 10,
         type: 'Dragon',
-        target: 'adjacentFoe',
         category: 'Physical',
         isMax: true,
         maxPower: 1
@@ -3297,6 +3368,16 @@ var SS_PATCH = {
         zp: 200,
         maxPower: 100
     },
+    'Meteor Beam': {
+        bp: 120,
+        type: 'Rock',
+        category: 'Special'
+    },
+    'Misty Explosion': {
+        bp: 100,
+        type: 'Fairy',
+        category: 'Special'
+    },
     'No Retreat': { bp: 0, type: 'Fighting' },
     Obstruct: { bp: 0, type: 'Dark', priority: 4 },
     Octolock: { bp: 0, type: 'Fighting' },
@@ -3309,6 +3390,11 @@ var SS_PATCH = {
         zp: 160,
         maxPower: 130
     },
+    Poltergeist: {
+        bp: 80,
+        type: 'Dark',
+        category: 'Physical'
+    },
     'Pyro Ball': {
         bp: 120,
         type: 'Fire',
@@ -3318,6 +3404,19 @@ var SS_PATCH = {
         zp: 190,
         maxPower: 140
     },
+    'Rising Voltage': {
+        bp: 70,
+        type: 'Electric',
+        category: 'Special'
+    },
+    'Scale Shot': {
+        bp: 25,
+        type: 'Dragon',
+        category: 'Physical',
+        multihit: 5,
+        zp: 140,
+        maxPower: 130
+    },
     'Snap Trap': {
         bp: 35,
         type: 'Grass',
@@ -3333,6 +3432,19 @@ var SS_PATCH = {
         zp: 160,
         maxPower: 130
     },
+    'Scorching Sands': {
+        bp: 70,
+        type: 'Ground',
+        category: 'Special',
+        secondaries: true
+    },
+    'Skitter Smack': {
+        bp: 70,
+        type: 'Bug',
+        category: 'Physical',
+        makesContact: true,
+        secondaries: true
+    },
     'Spirit Break': {
         bp: 75,
         type: 'Fairy',
@@ -3350,6 +3462,11 @@ var SS_PATCH = {
         zp: 200,
         maxPower: 140
     },
+    'Steel Roller': {
+        bp: 130,
+        type: 'Steel',
+        category: 'Physical'
+    },
     'Strange Steam': {
         bp: 90,
         type: 'Fairy',
@@ -3358,6 +3475,37 @@ var SS_PATCH = {
         zp: 175,
         maxPower: 130
     },
+    'Surging Strikes': {
+        bp: 25,
+        type: 'Water',
+        category: 'Physical',
+        makesContact: true,
+        willCrit: true,
+        multihit: 3
+    },
+    'Terrain Pulse': {
+        bp: 50,
+        type: 'Normal',
+        category: 'Special',
+        isPulse: true,
+        zp: 160,
+        maxPower: 130
+    },
+    'Triple Axel': {
+        bp: 20,
+        type: 'Ice',
+        category: 'Physical',
+        makesContact: true,
+        multihit: 3,
+        maxPower: 130
+    },
+    'Wicked Blow': {
+        bp: 80,
+        type: 'Dark',
+        category: 'Physical',
+        makesContact: true,
+        willCrit: true
+    },
     'Stuff Cheeks': { bp: 0, type: 'Normal' },
     'Tar Shot': { bp: 0, type: 'Rock' },
     Teatime: { bp: 0, type: 'Normal' },
@@ -3575,6 +3723,7 @@ var SS_PATCH = {
     'Horn Attack': { maxPower: 120 },
     'Horn Drill': { maxPower: 130 },
     'Horn Leech': { maxPower: 130 },
+    Howl: { isSound: true },
     Hurricane: { maxPower: 140 },
     'Hydro Cannon': { maxPower: 150 },
     'Hydro Pump': { maxPower: 140 },
@@ -3604,7 +3753,7 @@ var SS_PATCH = {
     'Jump Kick': { maxPower: 90 },
     'Karate Chop': { maxPower: 75 },
     'Knock Off': { maxPower: 120 },
-    "Land's Wrath": { maxPower: 130 },
+    'Land\'s Wrath': { maxPower: 130 },
     'Last Resort': { maxPower: 140 },
     'Lava Plume': { maxPower: 130 },
     Leafage: { maxPower: 90 },
@@ -3612,7 +3761,7 @@ var SS_PATCH = {
     'Leaf Storm': { maxPower: 140 },
     'Leaf Tornado': { maxPower: 120 },
     'Leech Life': { maxPower: 130 },
-    "Let's Snuggle Forever": { maxPower: 1 },
+    'Let\'s Snuggle Forever': { maxPower: 1 },
     Lick: { maxPower: 90 },
     'Light of Ruin': { maxPower: 140 },
     'Light That Burns the Sky': { maxPower: 1 },
@@ -3648,7 +3797,7 @@ var SS_PATCH = {
     'Multi-Attack': { bp: 120, maxPower: 140 },
     'Mystical Fire': { maxPower: 130 },
     'Natural Gift': { maxPower: 130 },
-    "Nature's Madness": { maxPower: 100 },
+    'Nature\'s Madness': { maxPower: 100 },
     'Needle Arm': { maxPower: 110 },
     'Never-Ending Nightmare': { maxPower: 1 },
     'Night Daze': { maxPower: 130 },
@@ -3866,9 +4015,18 @@ var LGPE_MOVES = [
     'Splishy Splash',
     'Veevee Volley',
 ];
-for (var _i = 0, LGPE_MOVES_1 = LGPE_MOVES; _i < LGPE_MOVES_1.length; _i++) {
-    var m = LGPE_MOVES_1[_i];
-    delete SS[m];
+try {
+    for (var LGPE_MOVES_1 = __values(LGPE_MOVES), LGPE_MOVES_1_1 = LGPE_MOVES_1.next(); !LGPE_MOVES_1_1.done; LGPE_MOVES_1_1 = LGPE_MOVES_1.next()) {
+        var m = LGPE_MOVES_1_1.value;
+        delete SS[m];
+    }
+}
+catch (e_1_1) { e_1 = { error: e_1_1 }; }
+finally {
+    try {
+        if (LGPE_MOVES_1_1 && !LGPE_MOVES_1_1.done && (_a = LGPE_MOVES_1["return"])) _a.call(LGPE_MOVES_1);
+    }
+    finally { if (e_1) throw e_1.error; }
 }
 exports.MOVES = [{}, RBY, GSC, ADV, DPP, BW, XY, SM, SS];
 var Moves = (function () {
@@ -3949,15 +4107,24 @@ var Move = (function () {
 }());
 var MOVES_BY_ID = [];
 var gen = 0;
-for (var _a = 0, MOVES_1 = exports.MOVES; _a < MOVES_1.length; _a++) {
-    var moves = MOVES_1[_a];
-    var map = {};
-    for (var move in moves) {
-        var data = moves[move];
-        var m = new Move(move, data, gen);
-        map[m.id] = m;
+try {
+    for (var MOVES_1 = __values(exports.MOVES), MOVES_1_1 = MOVES_1.next(); !MOVES_1_1.done; MOVES_1_1 = MOVES_1.next()) {
+        var moves = MOVES_1_1.value;
+        var map = {};
+        for (var move in moves) {
+            var data = moves[move];
+            var m = new Move(move, data, gen);
+            map[m.id] = m;
+        }
+        MOVES_BY_ID.push(map);
+        gen++;
+    }
+}
+catch (e_2_1) { e_2 = { error: e_2_1 }; }
+finally {
+    try {
+        if (MOVES_1_1 && !MOVES_1_1.done && (_b = MOVES_1["return"])) _b.call(MOVES_1);
     }
-    MOVES_BY_ID.push(map);
-    gen++;
+    finally { if (e_2) throw e_2.error; }
 }
 //# sourceMappingURL=moves.js.map
\ No newline at end of file
diff --git a/node_modules/@smogon/calc/dist/data/species.js b/node_modules/@smogon/calc/dist/data/species.js
index a6d31c4..a073c6b 100644
--- a/node_modules/@smogon/calc/dist/data/species.js
+++ b/node_modules/@smogon/calc/dist/data/species.js
@@ -26,6 +26,18 @@ var __generator = (this && this.__generator) || function (thisArg, body) {
         if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
     }
 };
+var __values = (this && this.__values) || function(o) {
+    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
+    if (m) return m.call(o);
+    if (o && typeof o.length === "number") return {
+        next: function () {
+            if (o && i >= o.length) o = void 0;
+            return { value: o && o[i++], done: !o };
+        }
+    };
+    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
+};
+var e_1, _a;
 exports.__esModule = true;
 var util_1 = require("../util");
 var RBY = {
@@ -213,7 +225,7 @@ var RBY = {
         bs: { hp: 95, at: 95, df: 85, sp: 55, sl: 125 },
         weightkg: 120
     },
-    "Farfetch'd": {
+    'Farfetch\u2019d': {
         types: ['Normal', 'Flying'],
         bs: { hp: 52, at: 65, df: 55, sp: 60, sl: 58 },
         weightkg: 15
@@ -840,7 +852,7 @@ var GSC_PATCH = {
     Electrode: { bs: { sa: 80, sd: 80 }, gender: 'N' },
     Exeggcute: { bs: { sa: 60, sd: 45 } },
     Exeggutor: { bs: { sa: 125, sd: 65 } },
-    "Farfetch'd": { bs: { sa: 58, sd: 62 } },
+    'Farfetch\u2019d': { bs: { sa: 58, sd: 62 } },
     Fearow: { bs: { sa: 61, sd: 61 } },
     Flareon: { bs: { sa: 95, sd: 110 } },
     Gastly: { bs: { sa: 100, sd: 35 } },
@@ -1523,7 +1535,7 @@ var ADV_PATCH = {
     Electrode: { abilities: { 0: 'Soundproof' } },
     Exeggcute: { abilities: { 0: 'Chlorophyll' } },
     Exeggutor: { abilities: { 0: 'Chlorophyll' } },
-    "Farfetch'd": { abilities: { 0: 'Keen Eye' } },
+    'Farfetch\u2019d': { abilities: { 0: 'Keen Eye' } },
     Fearow: { abilities: { 0: 'Keen Eye' } },
     Flareon: { abilities: { 0: 'Flash Fire' } },
     Gastly: { abilities: { 0: 'Levitate' } },
@@ -4897,19 +4909,6 @@ var BW_PATCH = {
         weightkg: 46,
         abilities: { 0: 'Flame Body' }
     },
-    Volkraken: {
-        types: ['Water', 'Fire'],
-        bs: { hp: 100, at: 45, df: 80, sa: 135, sd: 100, sp: 95 },
-        weightkg: 44.5,
-        abilities: { 0: 'Analytic' }
-    },
-    Volkritter: {
-        types: ['Water', 'Fire'],
-        bs: { hp: 60, at: 30, df: 50, sa: 80, sd: 60, sp: 70 },
-        weightkg: 15,
-        nfe: true,
-        abilities: { 0: 'Anticipation' }
-    },
     Vullaby: {
         types: ['Dark', 'Flying'],
         bs: { hp: 70, at: 55, df: 75, sa: 45, sd: 65, sp: 60 },
@@ -6101,6 +6100,19 @@ var XY_PATCH = {
         gender: 'N',
         abilities: { 0: 'Water Absorb' }
     },
+    Volkraken: {
+        types: ['Water', 'Fire'],
+        bs: { hp: 100, at: 45, df: 80, sa: 135, sd: 100, sp: 95 },
+        weightkg: 44.5,
+        abilities: { 0: 'Analytic' }
+    },
+    Volkritter: {
+        types: ['Water', 'Fire'],
+        bs: { hp: 60, at: 30, df: 50, sa: 80, sd: 60, sp: 70 },
+        weightkg: 15,
+        nfe: true,
+        abilities: { 0: 'Anticipation' }
+    },
     Xerneas: {
         types: ['Fairy'],
         bs: { hp: 126, at: 131, df: 95, sa: 131, sd: 98, sp: 99 },
@@ -6143,7 +6155,7 @@ var SM_PATCH = {
     Eevee: { otherFormes: ['Eevee-Starter'] },
     Electrode: { bs: { sp: 150 } },
     Exeggutor: { bs: { sd: 75 }, otherFormes: ['Exeggutor-Alola'] },
-    "Farfetch'd": { bs: { at: 90 } },
+    'Farfetch\u2019d': { bs: { at: 90 } },
     Gengar: { abilities: { 0: 'Cursed Body' } },
     Geodude: { otherFormes: ['Geodude-Alola'] },
     Golem: { otherFormes: ['Golem-Alola'] },
@@ -6774,9 +6786,9 @@ var SM_PATCH = {
         bs: { hp: 75, at: 70, df: 70, sa: 98, sd: 70, sp: 93 },
         weightkg: 3.4,
         abilities: { 0: 'Dancer' },
-        otherFormes: ["Oricorio-Pa'u", 'Oricorio-Pom-Pom', 'Oricorio-Sensu']
+        otherFormes: ['Oricorio-Pa\'u', 'Oricorio-Pom-Pom', 'Oricorio-Sensu']
     },
-    "Oricorio-Pa'u": {
+    'Oricorio-Pa\'u': {
         types: ['Psychic', 'Flying'],
         bs: { hp: 75, at: 70, df: 70, sa: 98, sd: 70, sp: 93 },
         weightkg: 3.4,
@@ -7428,6 +7440,7 @@ var SS_PATCH = {
     'Aegislash-Blade': { bs: { at: 140, sa: 140 } },
     'Aegislash-Both': { bs: { at: 140, df: 140, sa: 140, sd: 140 } },
     'Aegislash-Shield': { bs: { df: 140, sd: 140 } },
+    Blastoise: { otherFormes: ['Blastoise-Gmax', 'Blastoise-Mega'] },
     Butterfree: { otherFormes: ['Butterfree-Gmax'] },
     Charizard: { otherFormes: ['Charizard-Gmax', 'Charizard-Mega-X', 'Charizard-Mega-Y'] },
     Corsola: { otherFormes: ['Corsola-Galar'] },
@@ -7436,7 +7449,7 @@ var SS_PATCH = {
     },
     Darumaka: { otherFormes: ['Darumaka-Galar'] },
     Eevee: { otherFormes: ['Eevee-Gmax'] },
-    "Farfetch'd": { otherFormes: ["Farfetch'd-Galar"] },
+    'Farfetch\u2019d': { otherFormes: ['Farfetch\u2019d-Galar'] },
     Garbodor: { otherFormes: ['Garbodor-Gmax'] },
     Gengar: { otherFormes: ['Gengar-Gmax', 'Gengar-Mega'] },
     Kingler: { otherFormes: ['Kingler-Gmax'] },
@@ -7455,13 +7468,16 @@ var SS_PATCH = {
             'Pikachu-Partner',
             'Pikachu-Sinnoh',
             'Pikachu-Unova',
+            'Pikachu-World',
         ]
     },
     Ponyta: { otherFormes: ['Ponyta-Galar'] },
     Rapidash: { otherFormes: ['Rapidash-Galar'] },
+    Slowbro: { otherFormes: ['Slowbro-Galar', 'Slowbro-Mega'] },
     Slowpoke: { otherFormes: ['Slowpoke-Galar'] },
     Snorlax: { otherFormes: ['Snorlax-Gmax'] },
     Stunfisk: { otherFormes: ['Stunfisk-Galar'] },
+    Venusaur: { otherFormes: ['Venusaur-Gmax', 'Venusaur-Mega'] },
     Weezing: { otherFormes: ['Weezing-Galar'] },
     Yamask: { otherFormes: ['Yamask-Galar'] },
     Zigzagoon: { otherFormes: ['Zigzagoon-Galar'] },
@@ -7521,12 +7537,25 @@ var SS_PATCH = {
         abilities: { 0: 'Swift Swim' },
         nfe: true
     },
+    Astrolotl: {
+        types: ['Fire', 'Dragon'],
+        bs: { hp: 108, at: 108, df: 74, sa: 92, sd: 64, sp: 114 },
+        weightkg: 50,
+        abilities: { 0: 'Regenerator' }
+    },
     Barraskewda: {
         types: ['Water'],
         bs: { hp: 61, at: 123, df: 60, sa: 60, sd: 50, sp: 136 },
         weightkg: 30,
         abilities: { 0: 'Swift Swim' }
     },
+    'Blastoise-Gmax': {
+        types: ['Water'],
+        bs: { hp: 79, at: 83, df: 100, sa: 85, sd: 105, sp: 78 },
+        weightkg: 0,
+        abilities: { 0: 'Torrent' },
+        baseSpecies: 'Blastoise'
+    },
     Blipbug: {
         types: ['Bug'],
         bs: { hp: 25, at: 20, df: 20, sa: 25, sd: 45, sp: 45 },
@@ -7586,7 +7615,15 @@ var SS_PATCH = {
         types: ['Fire'],
         bs: { hp: 80, at: 116, df: 75, sa: 65, sd: 75, sp: 119 },
         weightkg: 33,
-        abilities: { 0: 'Blaze' }
+        abilities: { 0: 'Blaze' },
+        otherFormes: ['Cinderace-Gmax']
+    },
+    'Cinderace-Gmax': {
+        types: ['Fire'],
+        bs: { hp: 80, at: 116, df: 75, sa: 65, sd: 75, sp: 119 },
+        weightkg: 0,
+        abilities: { 0: 'Blaze' },
+        baseSpecies: 'Cinderace'
     },
     Clobbopus: {
         types: ['Fighting'],
@@ -7840,13 +7877,13 @@ var SS_PATCH = {
         abilities: { 0: 'Battle Armor' },
         gender: 'N'
     },
-    "Farfetch'd-Galar": {
+    'Farfetch\u2019d-Galar': {
         types: ['Fighting'],
         bs: { hp: 52, at: 95, df: 55, sa: 58, sd: 62, sp: 55 },
         weightkg: 15,
         abilities: { 0: 'Steadfast' },
         nfe: true,
-        baseSpecies: "Farfetch'd"
+        baseSpecies: 'Farfetch\u2019d'
     },
     Flapple: {
         types: ['Grass', 'Dragon'],
@@ -7975,7 +8012,15 @@ var SS_PATCH = {
         types: ['Water'],
         bs: { hp: 70, at: 85, df: 65, sa: 125, sd: 65, sp: 120 },
         weightkg: 45.2,
-        abilities: { 0: 'Torrent' }
+        abilities: { 0: 'Torrent' },
+        otherFormes: ['Inteleon-Gmax']
+    },
+    'Inteleon-Gmax': {
+        types: ['Water'],
+        bs: { hp: 70, at: 85, df: 65, sa: 125, sd: 65, sp: 120 },
+        weightkg: 0,
+        abilities: { 0: 'Torent' },
+        baseSpecies: 'Inteleon'
     },
     'Kingler-Gmax': {
         types: ['Water'],
@@ -7984,6 +8029,12 @@ var SS_PATCH = {
         abilities: { 0: 'Hyper Cutter' },
         baseSpecies: 'Kingler'
     },
+    'Kubfu': {
+        types: ["Fighting"],
+        bs: { hp: 60, at: 90, df: 60, sa: 53, sd: 50, sp: 72 },
+        weightkg: 12,
+        abilities: { 0: 'Inner Focus' }
+    },
     'Lapras-Gmax': {
         types: ['Water', 'Ice'],
         bs: { hp: 130, at: 85, df: 80, sa: 85, sd: 95, sp: 60 },
@@ -8103,6 +8154,13 @@ var SS_PATCH = {
         abilities: { 0: 'Static' },
         baseSpecies: 'Pikachu'
     },
+    'Pikachu-World': {
+        types: ['Electric'],
+        bs: { hp: 35, at: 55, df: 40, sa: 50, sd: 50, sp: 90 },
+        weightkg: 6,
+        abilities: { 0: 'Static' },
+        baseSpecies: 'Pikachu'
+    },
     Pincurchin: {
         types: ['Electric'],
         bs: { hp: 48, at: 101, df: 95, sa: 91, sd: 85, sp: 15 },
@@ -8151,7 +8209,15 @@ var SS_PATCH = {
         types: ['Grass'],
         bs: { hp: 100, at: 125, df: 90, sa: 60, sd: 70, sp: 85 },
         weightkg: 90,
-        abilities: { 0: 'Overgrow' }
+        abilities: { 0: 'Overgrow' },
+        otherFormes: ['Rillaboom-Gmax']
+    },
+    'Rillaboom-Gmax': {
+        types: ['Grass'],
+        bs: { hp: 100, at: 125, df: 90, sa: 60, sd: 70, sp: 85 },
+        weightkg: 80,
+        abilities: { 0: 'Run Away' },
+        baseSpecies: 'Rillaboom'
     },
     Rolycoly: {
         types: ['Rock'],
@@ -8219,7 +8285,7 @@ var SS_PATCH = {
         baseSpecies: 'Sinistea',
         gender: 'N'
     },
-    "Sirfetch'd": {
+    'Sirfetch\u2019d': {
         types: ['Fighting'],
         bs: { hp: 62, at: 135, df: 95, sa: 68, sd: 82, sp: 65 },
         weightkg: 117,
@@ -8239,6 +8305,13 @@ var SS_PATCH = {
         abilities: { 0: 'Cheek Pouch' },
         nfe: true
     },
+    'Slowbro-Galar': {
+        types: ['Psychic', 'Poison'],
+        bs: { hp: 95, at: 100, df: 95, sa: 100, sd: 70, sp: 30 },
+        weightkg: 70.5,
+        abilities: { 0: 'Quick Draw' },
+        baseSpecies: 'Slowbro'
+    },
     'Slowpoke-Galar': {
         types: ['Psychic'],
         bs: { hp: 90, at: 65, df: 65, sa: 40, sd: 40, sp: 15 },
@@ -8328,6 +8401,41 @@ var SS_PATCH = {
         abilities: { 0: 'Punk Rock' },
         baseSpecies: 'Toxtricity'
     },
+    Urshifu: {
+        types: ['Fighting', 'Dark'],
+        bs: { hp: 75, at: 98, df: 70, sa: 114, sd: 70, sp: 75 },
+        weightkg: 40,
+        abilities: { 0: 'Punk Rock' },
+        otherFormes: ['Urshifu-Gmax', 'Urshifu-Rapid-Strike', 'Urshifu-Rapid-Strike-Gmax']
+    },
+    'Urshifu-Rapid-Strike': {
+        types: ['Fighting', 'Water'],
+        bs: { hp: 100, at: 130, df: 100, sa: 63, sd: 60, sp: 97 },
+        weightkg: 105,
+        abilities: { 0: 'Unseen Fist' },
+        baseSpecies: 'Urshifu'
+    },
+    'Urshifu-Rapid-Strike-Gmax': {
+        types: ['Fighting', 'Water'],
+        bs: { hp: 100, at: 130, df: 100, sa: 63, sd: 60, sp: 97 },
+        weightkg: 105,
+        abilities: { 0: 'Unseen Fist' },
+        baseSpecies: 'Urshifu'
+    },
+    'Urshifu-Gmax': {
+        types: ['Fighting', 'Dark'],
+        bs: { hp: 100, at: 130, df: 100, sa: 63, sd: 60, sp: 97 },
+        weightkg: 0,
+        abilities: { 0: 'Unseen Fist' },
+        baseSpecies: 'Urshifu'
+    },
+    'Venusaur-Gmax': {
+        types: ['Poison', 'Fairy'],
+        bs: { hp: 80, at: 82, df: 83, sa: 100, sd: 100, sp: 80 },
+        weightkg: 0,
+        abilities: { 0: 'Levitate' },
+        baseSpecies: 'Venusaur'
+    },
     'Weezing-Galar': {
         types: ['Poison', 'Fairy'],
         bs: { hp: 65, at: 90, df: 120, sa: 85, sd: 70, sp: 60 },
@@ -8389,6 +8497,22 @@ var SS_PATCH = {
         baseSpecies: 'Zamazenta',
         gender: 'N'
     },
+    Zarude: {
+        types: ['Dark', 'Grass'],
+        bs: { hp: 105, at: 120, df: 105, sa: 70, sd: 95, sp: 105 },
+        weightkg: 70,
+        abilities: { 0: 'Leaf Guard' },
+        gender: 'N',
+        otherFormes: ['Zarude-Dada']
+    },
+    'Zarude-Dada': {
+        types: ['Dark', 'Grass'],
+        bs: { hp: 105, at: 120, df: 105, sa: 70, sd: 95, sp: 105 },
+        weightkg: 70,
+        abilities: { 0: 'Leaf Guard' },
+        baseSpecies: 'Zarude',
+        gender: 'N'
+    },
     'Zigzagoon-Galar': {
         types: ['Dark', 'Normal'],
         bs: { hp: 38, at: 30, df: 41, sa: 30, sd: 41, sp: 60 },
@@ -8456,16 +8580,25 @@ var Specie = (function () {
 }());
 var SPECIES_BY_ID = [];
 var gen = 0;
-for (var _i = 0, SPECIES_1 = exports.SPECIES; _i < SPECIES_1.length; _i++) {
-    var species = SPECIES_1[_i];
-    var map = {};
-    for (var specie in species) {
-        if (gen >= 2 && species[specie].bs.sl)
-            delete species[specie].bs.sl;
-        var m = new Specie(specie, species[specie]);
-        map[m.id] = m;
+try {
+    for (var SPECIES_1 = __values(exports.SPECIES), SPECIES_1_1 = SPECIES_1.next(); !SPECIES_1_1.done; SPECIES_1_1 = SPECIES_1.next()) {
+        var species = SPECIES_1_1.value;
+        var map = {};
+        for (var specie in species) {
+            if (gen >= 2 && species[specie].bs.sl)
+                delete species[specie].bs.sl;
+            var m = new Specie(specie, species[specie]);
+            map[m.id] = m;
+        }
+        SPECIES_BY_ID.push(map);
+        gen++;
+    }
+}
+catch (e_1_1) { e_1 = { error: e_1_1 }; }
+finally {
+    try {
+        if (SPECIES_1_1 && !SPECIES_1_1.done && (_a = SPECIES_1["return"])) _a.call(SPECIES_1);
     }
-    SPECIES_BY_ID.push(map);
-    gen++;
+    finally { if (e_1) throw e_1.error; }
 }
 //# sourceMappingURL=species.js.map
\ No newline at end of file
diff --git a/node_modules/@smogon/calc/dist/mechanics/gen78.js b/node_modules/@smogon/calc/dist/mechanics/gen78.js
index 97994bd..50e69ef 100644
--- a/node_modules/@smogon/calc/dist/mechanics/gen78.js
+++ b/node_modules/@smogon/calc/dist/mechanics/gen78.js
@@ -36,11 +36,13 @@ function calculateSMSS(gen, attacker, defender, move, field) {
     if (move.category === 'Status' && !move.named('Nature Power')) {
         return result;
     }
-    if (field.defenderSide.isProtected && !move.breaksProtect && !move.isZ) {
+    var breaksProtect = move.breaksProtect || move.isZ || attacker.isDynamaxed
+        || (attacker.hasAbility('Unseen Fist') && move.flags.contact);
+    if (field.defenderSide.isProtected && !breaksProtect) {
         desc.isProtected = true;
         return result;
     }
-    var defenderIgnoresAbility = defender.hasAbility('Full Metal Body', 'Prism Armor', 'Shadow Shield');
+    var defenderIgnoresAbility = defender.hasAbility('Full Metal Body', 'Neutralizing Gas', 'Prism Armor', 'Shadow Shield');
     var attackerIgnoresAbility = attacker.hasAbility('Mold Breaker', 'Teravolt', 'Turboblaze');
     var moveIgnoresAbility = move.named('Light That Burns the Sky', 'Menacing Moonraze Maelstrom', 'Moongeist Beam', 'Photon Geyser', 'Searing Sunraze Smash', 'Sunsteel Strike');
     if (!defenderIgnoresAbility) {
@@ -100,6 +102,14 @@ function calculateSMSS(gen, attacker, defender, move, field) {
         else if (attacker.named('Morpeko-Hangry')) {
             move.type = 'Dark';
         }
+        else if (move.named('Terrain Pulse')) {
+            move.type =
+                field.hasTerrain('Electric') ? 'Electric'
+                    : field.hasTerrain('Grassy') ? 'Grass'
+                        : field.hasTerrain('Misty') ? 'Fairy'
+                            : field.hasTerrain('Psychic') ? 'Psychic'
+                                : 'Normal';
+        }
     }
     var isAerilate = false;
     var isPixilate = false;
@@ -151,7 +161,7 @@ function calculateSMSS(gen, attacker, defender, move, field) {
         (defender.name.includes('Genesect') && defender.item.includes('Drive')) ||
         (defender.named('Groudon', 'Groudon-Primal') && defender.hasItem('Red Orb')) ||
         (defender.named('Kyogre', 'Kyogre-Primal') && defender.hasItem('Blue Orb')) ||
-        (defender.hasAbility('RKS System') && defender.item.includes('Memory')) ||
+        (defender.name.includes('Silvally') && defender.item.includes('Memory')) ||
         defender.item.includes(' Z') ||
         (defender.named('Zacian') && defender.hasItem('Rusted Sword'));
     if (!resistedKnockOffDamage && defender.item) {
@@ -232,7 +242,7 @@ function calculateSMSS(gen, attacker, defender, move, field) {
         result.damage = zLostHP;
         return result;
     }
-    if (move.named("Nature's Madness")) {
+    if (move.named('Nature\'s Madness')) {
         var lostHP = field.defenderSide.isProtected ? 0 : Math.floor(defender.curHP() / 2);
         result.damage = lostHP;
         return result;
@@ -267,10 +277,27 @@ function calculateSMSS(gen, attacker, defender, move, field) {
             basePower = r >= 4 ? 150 : r >= 3 ? 120 : r >= 2 ? 80 : r >= 1 ? 60 : 40;
             desc.moveBP = basePower;
             break;
+        case 'Expanding Force':
+            basePower = move.bp * ((util_2.isGrounded(attacker, field) && field.hasTerrain("Psychic")) ? 2 : 1);
+            move.target = (util_2.isGrounded(attacker, field) && field.hasTerrain("Psychic")) ? "allAdjacentFoes" : "normal";
+            desc.moveBP = basePower;
+            break;
+        case 'Misty Explosion':
+            basePower = move.bp * (field.hasTerrain("Misty") ? 2 : 1);
+            desc.moveBP = basePower;
+            break;
+        case 'Rising Voltage':
+            basePower = move.bp * (field.hasTerrain("Electric") ? 2 : 1);
+            desc.moveBP = basePower;
+            break;
         case 'Gyro Ball':
             basePower = Math.min(150, Math.floor((25 * defender.stats.spe) / attacker.stats.spe));
             desc.moveBP = basePower;
             break;
+        case 'Poltergeist':
+            basePower = move.bp * (!defender.hasItem ? 0 : 1);
+            desc.moveBP = basePower;
+            break;
         case 'Punishment':
             basePower = Math.min(200, 60 + 20 * util_2.countBoosts(gen, defender.boosts));
             desc.moveBP = basePower;
@@ -305,6 +332,10 @@ function calculateSMSS(gen, attacker, defender, move, field) {
             basePower = move.bp * (field.isGravity ? 1.5 : 1);
             desc.moveBP = basePower;
             break;
+        case 'Steel Roller':
+            basePower = move.bp * (field.terrain ? 1 : 0);
+            desc.moveBP = basePower;
+            break;
         case 'Assurance':
             basePower = move.bp * (defender.hasAbility('Parental Bond (Child)') ? 2 : 1);
             break;
@@ -316,6 +347,10 @@ function calculateSMSS(gen, attacker, defender, move, field) {
             basePower = field.weather && !field.hasWeather('Strong Winds') ? 100 : 50;
             desc.moveBP = basePower;
             break;
+        case 'Terrain Pulse':
+            basePower = field.terrain ? 100 : 50;
+            desc.moveBP = basePower;
+            break;
         case 'Fling':
             basePower = items_1.getFlingPower(attacker.item);
             desc.moveBP = basePower;
@@ -342,6 +377,10 @@ function calculateSMSS(gen, attacker, defender, move, field) {
             basePower = attacker.named('Greninja-Ash') && attacker.hasAbility('Battle Bond') ? 20 : 15;
             desc.moveBP = basePower;
             break;
+        case 'Lash Out':
+            basePower = move.bp * (util_2.countBoosts(gen, attacker.boosts) < 0 ? 2 : 1);
+            desc.moveBP = basePower;
+            break;
         case 'Crush Grip':
         case 'Wring Out':
             basePower = 100 * Math.floor((defender.curHP() * 4096) / defender.maxHP());
@@ -567,7 +606,8 @@ function calculateSMSS(gen, attacker, defender, move, field) {
             attacker.hasAbility('Flower Gift') &&
             field.hasWeather('Sun', 'Harsh Sunshine') &&
             move.category === 'Physical') ||
-        (attacker.hasAbility('Gorilla Tactics') && !attacker.isDynamaxed)) {
+        (attacker.hasAbility('Gorilla Tactics') && move.category === 'Physical' &&
+            !attacker.isDynamaxed)) {
         atMods.push(0x1800);
         desc.attackerAbility = attacker.ability;
         desc.weather = field.weather;
@@ -590,7 +630,7 @@ function calculateSMSS(gen, attacker, defender, move, field) {
         atMods.push(0x1800);
         desc.attackerAbility = attacker.ability;
     }
-    else if (attacker.hasAbility('Stakeout') && attacker.abilityOn && move.category === 'Physical') {
+    else if (attacker.hasAbility('Stakeout') && attacker.abilityOn) {
         atMods.push(0x2000);
         desc.attackerAbility = attacker.ability;
     }
@@ -687,7 +727,7 @@ function calculateSMSS(gen, attacker, defender, move, field) {
     defense = util_2.OF16(Math.max(1, util_2.pokeRound((defense * util_2.chainMods(dfMods)) / 0x1000)));
     var baseDamage = util_2.getBaseDamage(attacker.level, basePower, attack, defense);
     var isSpread = field.gameType !== 'Singles' &&
-        ['allAdjacent', 'allAdjacentFoes', 'adjacentFoe'].includes(move.target);
+        ['allAdjacent', 'allAdjacentFoes'].includes(move.target);
     if (isSpread) {
         baseDamage = util_2.pokeRound(util_2.OF32(baseDamage * 0xc00) / 0x1000);
     }
@@ -822,7 +862,8 @@ function calculateSMSS(gen, attacker, defender, move, field) {
         desc.defenderItem = defender.item;
     }
     var protect = false;
-    if (field.defenderSide.isProtected && move.isZ && attacker.item && attacker.item.includes(' Z')) {
+    if (field.defenderSide.isProtected &&
+        (attacker.isDynamaxed || (move.isZ && attacker.item && attacker.item.includes(' Z')))) {
         protect = true;
         desc.isProtected = true;
     }
